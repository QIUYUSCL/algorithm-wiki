# ğŸ§© å½’å¹¶æ’åº (Merge Sort)

> **å½’æ¡£**: #Algorithm #Sorting #Advanced
> **æ ¸å¿ƒå¿ƒæ³•**: "å…ˆæ‹†ååˆ" â€”â€” åƒæ‹‰é“¾ä¸€æ ·ï¼ŒæŠŠä¸¤ä¸ªæœ‰åºçš„é“¾æ¡åˆå¹¶æˆä¸€æ¡ã€‚

## ğŸ§  æ ¸å¿ƒæ€æƒ³ (ååºéå†)
å½’å¹¶çš„æœ¬è´¨æ˜¯äºŒå‰æ ‘çš„**ååºéå†**ã€‚
1.  **åˆ† (Divide)**ï¼šä¸€åˆ€ä¸¤æ–­ï¼Œé€’å½’åˆ‡åˆ†ç›´åˆ°å­æ•°ç»„åªå‰© 1 ä¸ªå…ƒç´ ï¼ˆå¤©ç„¶æœ‰åºï¼‰ã€‚
2.  **åˆ (Merge)**ï¼šå°†ä¸¤ä¸ªæœ‰åºçš„å­æ•°ç»„åˆå¹¶æˆä¸€ä¸ªå¤§çš„æœ‰åºæ•°ç»„ã€‚

## ğŸ¨ å›¾è§£æ¼”ç¤º

```mermaid
graph BT
    subgraph Merge Phase
    A[1] & B[5] -->|è°å°æ‹¿è°| C[1, 5]
    D[2] & E[8] -->|è°å°æ‹¿è°| F[2, 8]
    C & F -->|åŒæŒ‡é’ˆåˆå¹¶| G[1, 2, 5, 8]
    end
    subgraph Divide Phase
    Source[1, 5, 2, 8] -.-> A & B & D & E
    end
    style G fill:#9f6,stroke:#333
````

## ğŸ’» ä»£ç å®ç° (C++)


```cpp
class Solution {
    vector<int> temp; // è¾…åŠ©æ•°ç»„
public:
    void mergeSort(vector<int>& nums, int left, int right) {
        if (left >= right) return;
        int mid = left + (right - left) / 2;
        
        // 1. å…ˆæŠŠå·¦å³ä¸¤è¾¹æ’å¥½ (é€’å½’)
        mergeSort(nums, left, mid);
        mergeSort(nums, mid + 1, right);
        
        // 2. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„
        int i = left, j = mid + 1, t = 0;
        while (i <= mid && j <= right) {
            if (nums[i] <= nums[j]) temp[t++] = nums[i++];
            else temp[t++] = nums[j++];
        }
        while (i <= mid) temp[t++] = nums[i++];
        while (j <= right) temp[t++] = nums[j++];
        
        // 3. æŠ„å›å»
        for (int k = 0; k < t; k++) nums[left + k] = temp[k];
    }
};
```

## ğŸ“Š å¤æ‚åº¦åˆ†æ

|**ç»´åº¦**|**æ•°å€¼**|**è¯´æ˜**|
|---|---|---|
|**æ—¶é—´ (å¹³å‡)**|$O(N \log N)$|é›·æ‰“ä¸åŠ¨ï¼Œéå¸¸ç¨³|
|**æ—¶é—´ (æœ€å·®)**|$O(N \log N)$|ä¸å—æ•°æ®åˆ†å¸ƒå½±å“|
|**ç©ºé—´**|**$O(N)$**|éœ€è¦ä¸€ä¸ªé¢å¤–çš„ temp æ•°ç»„ (è¿™æ˜¯ç¼ºç‚¹)|
|**ç¨³å®šæ€§**|âœ… **ç¨³å®š**|åˆå¹¶æ—¶å·¦è¾¹å…ˆå…¥ï¼Œä¿è¯äº†ç¨³å®šæ€§|

## ğŸ’¡ é€‚ç”¨åœºæ™¯

- **é“¾è¡¨æ’åº**ï¼šå”¯ä¸€çš„ç¥ï¼ä¸éœ€è¦é¢å¤–ç©ºé—´ï¼Œåªæ”¹æŒ‡é’ˆã€‚
    
- **å¤§æ•°æ®å¤–éƒ¨æ’åº**ï¼šå†…å­˜æ”¾ä¸ä¸‹æ—¶ï¼Œåˆ‡åˆ†æ–‡ä»¶æ’å¥½å† Mergeã€‚
    
- **éœ€è¦ç¨³å®šæ’åºæ—¶**ï¼šæ¯”å¦‚æŒ‰â€œåˆ†æ•°â€æ’åºï¼Œåˆ†æ•°ä¸€æ ·è¦ä¿æŒâ€œå­¦å·â€é¡ºåºã€‚